<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>index.knit</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Quality Risk Assesment Clinical Trials</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="00_workflow.html">{targets} Workflow</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reports
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01_data.html">Data</a>
    </li>
    <li>
      <a href="02_cv.html">Time Series Cross Validation</a>
    </li>
    <li>
      <a href="03_perf.html">Performance</a>
    </li>
    <li>
      <a href="04_forest.html">Forest Plots</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/openpharma/quality_risk_assesment_clinical_trials">
    <span class="fa fa-github"></span>
     
    Github
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
</div>
<div id="quality-risk-assesment-clinical-trials" class="section level1">
<h1>Quality Risk Assesment Clinical Trials</h1>
<ul>
<li><a href="#anonymization">Anonymization</a></li>
<li><a href="#documentation-and-code-output">Documentation and Code Output</a></li>
<li><a href="#run-code">Run Code</a>
<ul>
<li><a href="#docker">Docker</a></li>
<li><a href="#targets">Targets</a></li>
<li><a href="#run-all-code-and-render-website">Run all code and render website</a>
<ul>
<li><a href="#shell">Shell</a></li>
<li><a href="#rstudio">Rstudio</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="publication" class="section level1">
<h1>Publication</h1>
<p>This repository contains part of the analysis code used for:</p>
<p>Koneswarakantha, B., Ménard, T. <em>An update on statistical modeling for quality risk assessment of clinical trials.</em> (preprint) <a href="https://doi.org/10.1101/2021.07.12.21260214">https://doi.org/10.1101/2021.07.12.21260214</a></p>
<p><strong>Background</strong> - As investigator site audits have largely been conducted remotely during the COVID-19 pandemic, remote quality monitoring has gained some momentum. To further facilitate the conduct of remote Quality Assurance (QA) activities, we developed new quality indicators, building on a previously published statistical modelling methodology.<br />
<strong>Methods</strong> - We modeled the risk of having an audit or inspection finding using historical audits and inspections data from 2011 - 2019. We used logistic regression to model finding risk for 4 clinical impact factor (CIF) categories: Safety Reporting, Data Integrity, Consent and Protecting Endpoints.<br />
<strong>Results</strong> - Resulting Area Under the Receiver Operating Characteristic Curves were between 0.59 - 0.63 with calibrated predictive ranges of 25 - 43%. The combined and adjusted risk factors could be used to easily interpret risk estimates. <strong>Conclusion</strong> - Continuous surveillance of the identified risk factors and resulting risk estimates could be used to complement remote QA strategies and help to manage audit targets and audit focus also in post-pandemic times.</p>
<div id="anonymization" class="section level2">
<h2>Anonymization</h2>
<p>We do not share any non-public data on clinical trials or company IT systems to this end the following steps have been performed.</p>
<ul>
<li>repository does not contain any data only code output that describes and analyses the data<br />
</li>
<li>data preparation and features selection steps were removed<br />
</li>
<li>all internal IDs were removed<br />
</li>
<li>geographic locations were removed</li>
<li>all dates where removed except for <code>start_date</code> which was to the first day of the corresponding year</li>
</ul>
</div>
<div id="documentation-and-code-output" class="section level2">
<h2>Documentation and Code Output</h2>
<p><a href="https://openpharma.github.io/simaerep/quality_risk_assesment_clinical_trials">website</a></p>
</div>
<div id="run-code" class="section level2">
<h2>Run Code</h2>
<p>The repository does not contain any data, therefore code will only run if all data files are supplied.</p>
<div id="docker" class="section level3">
<h3>Docker</h3>
<p>This repository uses <a href="https://www.docker.com/"><code>docker</code></a></p>
</div>
<div id="targets" class="section level3">
<h3>Targets</h3>
<p><a href="https://github.com/ropensci/targets"><code>targets</code></a> is used as the execution manager. The workflow is specified in <code>_targets.R</code> and the <code>_targets_r/</code> directory.</p>
<p>In order to implement changes to the workflow edit <code>src/Rmd/00_workflow.Rmd</code> and knit document from RStudio to refresh <code>targets</code> files.</p>
<p>Make changes to existing functions by adding <code>browser()</code> statements and executing <code>tar_make(callr_function = NULL)</code></p>
<p><code>targets</code> manages the rendering of the reports. The <code>.Rmd</code> templates can be found as <code>src/Rmd/_{[0-9]}2_[a-z]+.Rmd</code>. They begin with an underscore because like this they will be ignored by <code>rmarkdown::render_site</code>. <code>targets</code> creates <code>.html</code> files for each report into <code>src/Rmd</code> that will get picked up by <code>rmarkdown::render_site</code> and copied into <code>docs</code>. <code>rmarkdown::render_site</code> triggers only the rendering of <code>00_workflow.Rmd</code> which triggers <code>targets</code> which then renders the reports.</p>
</div>
<div id="run-all-code-and-render-website" class="section level3">
<h3>Run all code and render website</h3>
<div id="shell" class="section level4">
<h4>Shell</h4>
<pre><code>docker compose build
docker compose up -d shell
docker container exec -it quality_risk_assesment_clinical_trials_shell_1 /bin/bash
R -e &#39;rmarkdown::render_site(&quot;src/Rmd&quot;)&#39;
docker compose down</code></pre>
</div>
<div id="rstudio" class="section level4">
<h4>Rstudio</h4>
<pre><code>docker compose build
docker compose up -d rstudio</code></pre>
<p>open <a href="http://localhost:8787/">http://localhost:8787/</a></p>
<p>enter user name and password as specified in <code>docker-compose.yml</code></p>
<p>enter in R-Console</p>
<pre><code>rmarkdown::render_site(&quot;src/Rmd&quot;)</code></pre>
<p>enter in terminal</p>
<pre><code>docker compose down</code></pre>
</div>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
